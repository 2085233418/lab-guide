# 第 0 章：环境配置

## 本章概述

> "工欲善其事，必先利其器。"

在正式开始编写 ErrorOS 之前，我们需要搭建一个完整的开发环境。本章将手把手指导你安装所有必需的工具和依赖，确保你能顺利进行后续的开发工作。

---

## 学习目标

完成本章学习后，你将能够：

- ✅ 安装并配置 Rust nightly 工具链
- ✅ 添加 RISC-V 目标架构支持
- ✅ 安装并配置 QEMU 模拟器
- ✅ 创建并初始化 ErrorOS 项目结构
- ✅ 配置开发工具（VS Code / CLion 等）
- ✅ 编译并运行第一个 Hello World 程序

---

## 内容导览

### 0.1 Rust 工具链安装
学习如何安装 Rust nightly 版本，并添加 `riscv64imac-unknown-none-elf` 目标支持。Rust 的内存安全特性和零成本抽象使其成为操作系统开发的理想语言。

**关键概念：**
- Rustup 工具链管理器
- Nightly 版本 vs Stable 版本
- 交叉编译目标

### 0.2 QEMU 模拟器配置
安装 QEMU 模拟器，无需真实硬件即可运行 RISC-V 程序。我们将使用 `qemu-system-riscv64` 模拟 virt 虚拟机。

**关键概念：**
- QEMU 模拟器
- RISC-V virt 机器
- OpenSBI 固件

### 0.3 项目结构初始化
创建 ErrorOS 项目的基本骨架，配置 Cargo.toml 和链接器脚本。

**关键概念：**
- Cargo 项目结构
- `#![no_std]` 裸机编程
- 自定义链接器脚本

### 0.4 开发工具配置
配置你喜欢的 IDE（VS Code / CLion），安装 Rust 插件，配置代码补全、语法高亮和调试功能。

**关键概念：**
- rust-analyzer 语言服务器
- LLDB 调试器
- 代码格式化工具

---

## 为什么重要？

环境配置看似繁琐，但却是操作系统开发的基石：

1. **避免后续问题**：正确的环境配置能避免 99% 的编译错误
2. **提高开发效率**：良好的 IDE 配置让你事半功倍
3. **理解工具链**：了解编译、链接、模拟的全流程

---

## 预计时间

⏱️ **约 1-2 小时**（取决于网络速度和系统环境）

---

## 开始学习

准备好了吗？让我们从安装 Rust 工具链开始！

👉 [0.1 Rust 工具链安装](../实验指导书汇总/0.1%20Rust工具链安装.md)
